<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Crear Producto</title>

  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />
  <link rel="stylesheet" href="./style2.css" />
</head>

<body>
  <main class="container py-4 py-md-5">
    <header class="mb-4">
      <h1 class="h3 mb-1">Crear producto / publicación</h1>
      <p class="text-body-secondary mb-0">Completa los campos para generar el modelo de datos (JSON).</p>
    </header>

    <!-- Alertas: aquí se inyectan errores o éxito -->
    <div id="alertContainer" class="mb-3" aria-live="polite"></div>

    <section class="card shadow-sm">
      <div class="card-body p-3 p-md-4">
        <form id="productForm" novalidate>
          <div class="row g-3">
            <!-- Título / Nombre -->
            <div class="col-12 col-md-6">
              <label for="title" class="form-label">Nombre del producto <span class="text-danger">*</span></label>
              <input id="title" name="title" type="text" class="form-control" placeholder="Ej: Villano Otaku" />
              <div class="invalid-feedback">Ingresa un nombre (mínimo 3 caracteres).</div>
            </div>

            <!-- Categoría -->
            <div class="col-12 col-md-6">
              <label for="category" class="form-label">Categoría <span class="text-danger">*</span></label>
              <select id="category" name="category" class="form-select">
                <option value="" selected>Selecciona una opción</option>
                <option value="anime">Anime</option>
                <option value="rock">Rock</option>
                <option value="hiphop">Hip Hop</option>
                <option value="luxury">Luxury</option>
                <option value="custom">Personalizado</option>
              </select>
              <div class="invalid-feedback">Selecciona una categoría.</div>
            </div>

            <!-- Precio -->
            <div class="col-12 col-md-4">
              <label for="price" class="form-label">Precio (CLP) <span class="text-danger">*</span></label>
              <input id="price" name="price" type="number" class="form-control" inputmode="numeric" min="1" placeholder="2500000" />
              <div class="invalid-feedback">Ingresa un precio válido (mayor a 0).</div>
            </div>

            <!-- Stock -->
            <div class="col-12 col-md-4">
              <label for="stock" class="form-label">Stock <span class="text-danger">*</span></label>
              <input id="stock" name="stock" type="number" class="form-control" inputmode="numeric" min="0" placeholder="10" />
              <div class="invalid-feedback">Ingresa un stock válido (0 o más).</div>
            </div>

            <!-- Descuento -->
            <div class="col-12 col-md-4">
              <label for="discount" class="form-label">Descuento (%)</label>
              <input id="discount" name="discount" type="number" class="form-control" inputmode="numeric" min="0" max="90" placeholder="30" />
              <div class="invalid-feedback">El descuento debe estar entre 0 y 90.</div>
            </div>

            <!-- Imagen -->
            <div class="col-12">
              <label for="imageUrl" class="form-label">URL de imagen <span class="text-danger">*</span></label>
              <input id="imageUrl" name="imageUrl" type="url" class="form-control" placeholder="https://..." />
              <div class="invalid-feedback">Ingresa una URL válida (http/https) para la imagen.</div>
              <div class="form-text">Puede ser una URL o luego adaptarlo a tu carpeta assets.</div>
            </div>

            <!-- Descripción -->
            <div class="col-12">
              <label for="description" class="form-label">Descripción <span class="text-danger">*</span></label>
              <textarea id="description" name="description" class="form-control" rows="4" placeholder="Describe el producto..."></textarea>
              <div class="invalid-feedback">Ingresa una descripción (mínimo 10 caracteres).</div>
            </div>

            <!-- Material -->
            <div class="col-12 col-md-6">
              <label for="material" class="form-label">Material principal <span class="text-danger">*</span></label>
              <select id="material" name="material" class="form-select">
                <option value="" selected>Selecciona material</option>
                <option value="madera_certificada">Madera certificada</option>
                <option value="biocomposite">Biocomposite</option>
                <option value="carton_prensado">Cartón prensado</option>
                <option value="bambu">Bambú</option>
              </select>
              <div class="invalid-feedback">Selecciona un material.</div>
            </div>

            <!-- Dimensiones -->
            <div class="col-12 col-md-6">
              <label for="size" class="form-label">Tamaño <span class="text-danger">*</span></label>
              <select id="size" name="size" class="form-select">
                <option value="" selected>Selecciona tamaño</option>
                <option value="s">S</option>
                <option value="m">M</option>
                <option value="l">L</option>
                <option value="xl">XL</option>
              </select>
              <div class="invalid-feedback">Selecciona un tamaño.</div>
            </div>

            <!-- Etiquetas -->
            <div class="col-12">
              <label for="tags" class="form-label">Tags (separados por coma)</label>
              <input id="tags" name="tags" type="text" class="form-control" placeholder="Ej: temático, biodegradable, premium" />
            </div>

            <!-- Publicado -->
            <div class="col-12">
              <div class="form-check">
                <input id="isActive" name="isActive" class="form-check-input" type="checkbox" checked />
                <label class="form-check-label" for="isActive">Publicar inmediatamente</label>
              </div>
            </div>

            <!-- Botones -->
            <div class="col-12 d-flex flex-column flex-sm-row gap-2 justify-content-end mt-2">
              <button type="reset" class="btn btn-outline-secondary">Limpiar</button>
              <button type="submit" class="btn btn-primary">Crear producto</button>
            </div>
          </div>
        </form>

        <!-- Vista del JSON generado -->
        <hr class="my-4" />
        <h2 class="h6 mb-2">JSON generado</h2>
        <pre id="jsonOutput" class="bg-body-tertiary p-3 rounded-3 mb-0 small" style="min-height: 120px;"></pre>
      </div>
    </section>
  </main>

  <!-- Bootstrap JS -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  <script src="./crear-producto.js"></script>
</body>
</html>
